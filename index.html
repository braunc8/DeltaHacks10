<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <title>Ontario Invaders</title>

    </head>
    <body>
       
        <div class="topnav">
            <a class="active" href="./index.html">Home</a>
            <a href="./info.html">Info</a>
        </div>
        <script>
            let method=0;
            function start(){
                //changes the background
                document.getElementById("gamecentre").style.backgroundImage = "url(images/background.jpg)";

                //erases the word start on the first button
                var startId=document.getElementById("5");
                
                changeImage("",startId)                
                //generates the illegal carp
                let x= Math.floor(Math.random() * 8+1);
                let id=x.toString();
                var imageId = document.getElementById(id);
                changeImage("images/carp.png",imageId);//add invasive carp

                //generates the images on the method buttons

                imageId = document.getElementById("i1");
                changeImage("",imageId);
                imageId = document.getElementById("i2");
                changeImage("",imageId);
                imageId = document.getElementById("i3");
                changeImage("",imageId);


                //adds functionality to all possible carp buttons - change to for loop?
                for (let i = 1; i < 10; i++) {
                    functionAdder(i,"b");
                }



                //adds functionality to the method changing buttons - use new function adding method lmaoooo
                for (let i = 1; i < 4; i++) {
                    functionAdder(i,"m");
                }
                   
            }
            function functionAdder(param,pref){
                let num = param.toString();
                var id = pref.concat(num);
                if(pref=="b"){
                    document.getElementById(id).onclick=function () { invasiveCheck(param); };
                }else if(pref=="m"){
                    document.getElementById(id).onclick=function () { changeMethod(param); };
                }
                
            }

            //changes the image of a button
            function changeImage(image,imageId) {
                imageId.src = image;

            }

            //changes depending on whether the invasive species is there
            function invasiveCheck(num_id){
                let id=num_id.toString();
                var imageId = document.getElementById(id);
                if (imageId.src.endsWith("carp.png")){
                    if(method==1){
 
                        changeImage("images/check.png",imageId);//add correct image
                        
                    alert("You found the invasive species and used the correct removal method! Press reset to play again.");
                    }else{
                        alert("Wrong removal method! Please change it using the buttons at the bottom.");
                    } 
                }
                else {
  
                    changeImage("images/cross.png",imageId); //add correct image
                    
                }
            }


            //for removal method

            function changeMethod(num){
                method=num;
            }
        </script>

        <div class="gamecentre" id="gamecentre">
            
            
            <button onclick="" id="b1"> <img id="1" src="" width="100px"/></button>
            <button onclick="" id="b2"> <img id="2" src="" width="100px"/></button>
            <button onclick="" id="b3"> <img id="3" src="" width="100px"/></button>
            <button onclick="" id="b4"> <img id="4" src="" width="100px"/></button>
            <button onclick="start()" id="b5"> <img id="5" src="images/start_button.png" width="100px" /></button>
            <button onclick="" id="b6"> <img id="6" src="" width="100px" /></button>
            <button onclick="" id="b7"> <img id="7" src="" width="100px"/></button>
            <button onclick="" id="b8"> <img id="8" src="" width="100px"/></button>
            <button onclick="" id="b9"> <img id="9" src="" width="100px"/></button>
 
        </div>
        <div class="bottomBar">
            <button onclick="" id="m1"> <img id="i1" src="" width="0%"/>Net</button><!--add image of net-->
            <button onclick="" id="m2"> <img id="i2" src="" width="0%"/>Poison</button><!--add image of skull-->
            <button onclick="" id="m3"> <img id="i3" src="" width="0%"/>Shark</button><!--add image of shark-->    
        </div>

    </body>
</html>